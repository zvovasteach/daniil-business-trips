# daniil-business-trips
**Дано:** список сотрудников фирмы, предполагаемый план командировок, расценки поездок, принципы формирования списка командированных

**Цель:** формирование полноценного плана командировок минимальными затратами

## Детальное описание задания:

### Исходные данные

#### goals.json

Приведен файл **«Цели»** описывающий состав по должностям для каждой командировки в зависимости от ее цели:

- В любой командировке должен быть один главный, который выбирается из столбца **«Ответственный»** (`management`) и должен занимать любую должность из допустимых значений

- В поле **«Исполнители»** (`performers`) указывается набор должностей, которые обязательно должны присутствовать в данной командировке, хотя бы по одному разу.

- Поле `minEmployees` содержит минимальное количество людей в командировке

> Если согласно плану требуется большее количество людей, исполнителей включать в план примерно одинаковое количество человек в каждой должности. Если это невозможно, допускается единственный человек в какой-либо должности.

#### employees.json

Список сотрудников предприятия с указанием фамилии (уникальна), должности, табельного номера, пол, дата рождения и оклада.

#### trips.json

Список намеченных командировок. Для каждой командировки указываются уникальный номер, дата начала командировки, предположительный срок и предположительное количество людей, необходимых для выполнения командировочного задания, цель командировки, место командировки с указанием области и оплата за командировку заказчиком.

#### regions.json

Список областей с указанием приблизительной стоимости и времени поездки в данную область. На основании приведенных значений определяется вид транспорта, которым предполагается доехать группа командированных.

#### job-titles.json

Названия должностей с их уникальными идентификаторами

### Задание

Требуется определить список сотрудников, которые поедут в командировки согласно имеющемуся плану и вид транспорта, которым группа поедет в командировку исходя из соображений минимальных затрат.

Набор сотрудников в командировку осуществляется по следующему принципу.
1. Определяется главный как один из возможных кандидатур
2. Определяется хотя бы один сотрудник в каждой из должностей исполнителей
3. Прочих сотрудников рекомендуется набирать равномерно согласно списку необходимых должностей, но, если не получается, брать людей прочих должностей (считается, что замена возможна)

Если при формировании списка имеет место недобор основного состава (нет ответственного или хотя бы одного исполнителя в каждой должности) – **командировка отменяется**

Если имеет место недобор дополнительного состава при сформированном основном, увеличивается количество дней командировки исходя из соображений, что трудоемкость командировки определяется как `длительность командировки * дни`. Следовательно, новое количество дней округлить в большую сторону (`дни * люди / люди набранные`).

По формированию списка требуется определить вид транспорта, который обеспечит минимальные затраты на командировку.

Затраты на командировку рассчитываются исходя из:

- Каждому сотруднику ежедневно платятся командировочные как 1/20 оклада данного сотрудника

- Если сотрудник работает в командировке в выходной день (суббота, воскресенье), то оплата по двойному тарифу

- Время на дорогу может увеличивать срок командировки и оплачивается командировочными

- Время на дорогу зависит от выбора транспорта:
  - Если время на дорогу менее 1/5 от суток, время на дорогу не учитывается
  - Если время на дорогу от 1/5 суток до 1/2 суток, к командировке добавляется еще один день
  - Если время на дорогу более 1/2 суток, к командировке добавляется еще два дня

- Использование самолета как средства доставки возможно не всегда: при пустых ячейках считаем, что в данные области нет рейсов

- При расчете поезда и самолета учтите, что указывается цена на один билет в одну сторону

- При расчете стоимости поездки машиной считаем, что в каждую машину, помимо водителя, могут сесть 4 человека (с водителем 5)

- В каждой машине должен быть водитель. Некоторые цели командировок уже предполагают наличие водителя, некоторые – нет.

- Расчет стоимости дороги машиной определяется из того, что расход топлива каждой машины примерно 9 литров на 100 км, а стоимость топлива 35 рублей за литр

- Выбор вида транспорта должен учитывать
  - Минимальную итоговую стоимость командировки (с учетом общего количества едущих, количества дней и выходных дней)
  - Не всегда возможно лететь
  - При выборе машины в качестве транспорта наличие свободных водителей; если при минимальной стоимости машина в качестве транспорта невозможна из-за отсутствия водителей, выбирать другой вид транспорта
  - Если водитель не предполагается целью в качестве Исполнителя, то в случае выбора машины в качестве транспорта, водители довозят и возвращают командируемых, но могут вернуться в офис (если это выгоднее, чем оплачивать их нахождение в командировке), то есть в этом случае цена должна складываться из 4 поездок + зарплата водителей. Водители могут быть разными (кто отвозит и кто возвращает). Водитель не может работать больше 1/2 суток без перерыва. 

- Итоговая стоимость должна быть меньше предполагаемой выгоды от поездки – иначе отмена командировки

Результаты курсовой работы предоставляются в произвольном, но понятном формате.

Требуется предоставить:

1.	Корректированный план командировок с максимально полной информацией о коррекции: отмена командировки (возможна причина отмены), ориентировочная стоимость, прочее.
2.	План командировок для каждого сотрудника (план занятости).
3.	Составить список наиболее и наименее задействованных сотрудников.
4.	Составить список наиболее и наименее задействованных должностей.
5.	Оценить рентабельность каждой командировки, исходя из сумм на проезд и выплату суточных всем сотрудникам. Определить рентабельность (выгодность, прибыль) командировок как прибыль/затраты
6.	Определить наиболее выгодные направления(области).

